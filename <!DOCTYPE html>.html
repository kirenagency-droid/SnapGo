<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>SnapView — Contenu trouvé (démo)</title>

<!-- Hints perf/fiabilité vers le domaine d’affiliation -->
<link rel="preconnect" href="https://t.trklinkx.com" crossorigin>
<link rel="dns-prefetch" href="//t.trklinkx.com">

<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#0b0f16;
    --panel:rgba(13,20,34,.36);
    --panel-2:rgba(15,26,48,.32);
    --glass:blur(22px) saturate(180%) contrast(105%);
    --stroke:#2a3555;
    --text:#eef2ff;
    --sub:#a9b4cb;
    --accent:#7dd3fc;
    --accent2:#a78bfa;
    --gold:#ffd166;
    --radius-xl:28px; --radius:18px;
    --shadow:0 20px 70px rgba(0,0,0,.55);
  }
  *{box-sizing:border-box}
  html,body{height:100%;background:
    radial-gradient(1200px 600px at 15% -10%, #17253d 0%, transparent 55%) no-repeat,
    radial-gradient(1000px 500px at 90% 0%, #211a3e 0%, transparent 60%) no-repeat,
    var(--bg);}
  body{margin:0; font-family:'SF Pro Display','SF Pro Text','San Francisco','-apple-system',BlinkMacSystemFont,'Segoe UI',Roboto,Arial,sans-serif; color:var(--text);
       padding:22px 16px 110px; overflow-x:hidden}

  header{max-width:980px; margin:0 auto 18px;}
  .brandbar{
    display:flex; align-items:center; justify-content:space-between; gap:10px;
    padding:8px 12px; border-radius:18px;
    background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
    border:1px solid rgba(255,255,255,.10);
    box-shadow:0 10px 34px rgba(0,0,0,.45);
    backdrop-filter:var(--glass);
  }
  .brand{display:flex; align-items:center; gap:10px; font-weight:900; font-size:18px;}
  .brand-name .snap{color:#eaf4ff}
  .brand-name .view{background:linear-gradient(90deg,var(--accent),var(--accent2)); -webkit-background-clip:text; background-clip:text; color:transparent;}
  .menu-btn{width:36px; height:36px; border-radius:10px; border:1px solid rgba(255,255,255,.14);
    background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
    display:grid; place-items:center; cursor:pointer; box-shadow:0 6px 18px rgba(0,0,0,.35);}
  .menu-lines{width:18px; height:12px; position:relative}
  .menu-lines::before,.menu-lines::after,.menu-lines span{content:""; position:absolute; left:0; right:0; height:2px; border-radius:2px; background:#dfe8ff;}
  .menu-lines::before{top:0} .menu-lines span{top:5px} .menu-lines::after{bottom:0}

  h1{margin:14px 0 0; font-size:clamp(24px,6vw,40px); font-weight:900; line-height:1.04;
     background:linear-gradient(90deg,#cbe2ff 0%, var(--accent) 35%, var(--accent2) 100%);
     -webkit-background-clip:text; background-clip:text; color:transparent}
  .steps{color:#bcd0f2; font-weight:800}

  .progress-wrap{margin:10px 0 8px;}
  .progress-bar{position:relative; height:5px; border-radius:999px; overflow:hidden;
    background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
    border:1px solid rgba(255,255,255,.10); backdrop-filter:blur(8px) saturate(140%);}
  .progress-fill{height:100%; width:75%;
    background:linear-gradient(90deg, var(--accent), #80e5ff, var(--accent2));}
  .progress-dot{position:absolute; top:50%; transform:translate(-50%,-50%); width:8px; height:8px; border-radius:50%; background:#fff;}
  .progress-bar .d1{left:25%} .progress-bar .d2{left:50%} .progress-bar .d3{left:75%} .progress-bar .d4{left:100%}

  .block{max-width:980px; margin:22px auto; padding:22px 20px; border-radius:var(--radius-xl);
         background:var(--panel); border:1px solid var(--stroke); box-shadow:var(--shadow);
         backdrop-filter:var(--glass); position:relative}
  .block h2{margin:0 0 14px; font-size:18px}
  .meta{display:flex; gap:10px; align-items:center; color:var(--sub); font-weight:700; flex-wrap:wrap}
  .count{padding:6px 10px; border-radius:999px; border:1px solid rgba(255,255,255,.14);
         background:rgba(255,255,255,.06); color:#e7f0ff; font-weight:800; font-size:12px}

  .grid-eyes{display:grid; grid-template-columns:repeat(auto-fill, minmax(104px, 1fr)); gap:10px; min-height:110px;}
  .thumb{position:relative; aspect-ratio:1/1; border-radius:14px; overflow:hidden;
         border:1px solid #1b2442; background:linear-gradient(160deg,rgba(255,255,255,.10),rgba(255,255,255,.04))}
  .thumb img{width:100%; height:100%; object-fit:cover; transform:scale(1.08)}
  .thumb.heavy img{filter:blur(12px)!important;}
  .banner{position:absolute; left:6px; top:6px; padding:5px 7px; border-radius:10px;
    background:rgba(0,0,0,.45); border:1px solid rgba(255,255,255,.14); font-weight:800; font-size:10px}

  .chatlist{display:flex; flex-direction:column; gap:12px; min-height:148px}
  .row{display:grid; grid-template-columns:auto 1fr auto; gap:12px; align-items:center;
       padding:14px; border-radius:16px; border:1px solid rgba(255,255,255,.14);
       background:linear-gradient(160deg,rgba(255,255,255,.10),rgba(255,255,255,.05));
       transition:transform .12s ease, border-color .12s ease, background .12s ease;}
  .row:hover{ transform:translateY(-2px); border-color:#2a3861;
              background:linear-gradient(160deg,rgba(255,255,255,.12),rgba(255,255,255,.06)); }
  .a-ava{width:42px; height:42px; border-radius:50%; overflow:hidden; border:1px solid #27314b; position:relative;}
  .a-ava img{width:100%; height:100%; object-fit:cover; filter:blur(3px) saturate(1.1);}
  .a-ava.online::after{content:""; position:absolute; inset:-3px; border-radius:50%; border:2px solid #34d399cc; box-shadow:0 0 0 3px #34d39944; animation:ringPulse 1.8s ease-out infinite;}
  @keyframes ringPulse{0%{box-shadow:0 0 0 0 #34d39955;}70%{box-shadow:0 0 0 10px #34d39900;}100%{box-shadow:0 0 0 0 #34d39900;}}
  .a-name{height:14px; width:160px; border-radius:6px; background:#132036; filter:blur(3px)}
  .a-snippet{height:12px; width:70%; margin-top:6px; border-radius:6px; background:linear-gradient(90deg, rgba(255,255,255,.06) 20%, rgba(255,255,255,.14) 40%, rgba(255,255,255,.06) 60%) 0/200% 100%; animation:shimmer 2.2s linear infinite; filter:blur(3px)}
  @keyframes shimmer{0%{background-position:-120% 0}100%{background-position:220% 0}}
  .typing{display:inline-flex; align-items:center; gap:6px; margin-top:6px;}
  .typing .dot{width:6px; height:6px; border-radius:50%; background:linear-gradient(180deg, var(--accent), var(--accent2)); opacity:.75; animation:blink 1.2s infinite;}
  .typing .dot:nth-child(2){animation-delay:.15s}.typing .dot:nth-child(3){animation-delay:.30s}
  @keyframes blink{0%,80%,100%{transform:translateY(0); opacity:.5}40%{transform:translateY(-3px); opacity:1}}
  .a-right{display:flex; flex-direction:column; align-items:flex-end; gap:6px; min-width:22px;}
  .a-flag{width:14px; height:14px; border-radius:4px; border:1px solid rgba(255,255,255,.18); box-shadow:0 2px 8px rgba(0,0,0,.25);}
  .a-flag.violet{background:linear-gradient(180deg,#c4b5fd,#a78bfa);} .a-flag.rouge{background:linear-gradient(180deg,#fda4a4,#ef4444);}
  .a-badge{padding:2px 6px; border-radius:999px; font-size:11px; font-weight:900; line-height:1; color:#0a1020;
    background:linear-gradient(180deg,#ffe08a,#ffd166); border:1px solid rgba(0,0,0,.15); animation:popIn .35s ease;}

  .live-badge{font-size:11px; font-weight:900; padding:4px 8px; border-radius:999px;
    background:linear-gradient(180deg,#34d399,#22c55e); color:#07131a; border:1px solid #ffffff1f;
    margin-left:8px; box-shadow:0 6px 16px rgba(0,0,0,.35);}

  .mini{position:fixed; left:12px; right:12px; bottom:18px; z-index:25; display:flex; justify-content:center}
  .mini-inner{display:flex; gap:10px; align-items:center; padding:10px 12px; border-radius:16px;
    background:var(--panel-2); border:1px solid var(--stroke); backdrop-filter:var(--glass); box-shadow:0 10px 40px rgba(0,0,0,.5)}
  .mini .price{font-weight:900; color:#ffe08a}
  .mini .unlock{padding:10px 16px; border-radius:12px; font-size:14px}

  .neo-cta{
    max-width:980px; margin:18px auto 0; padding:16px; border-radius:20px;
    background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
    border:1px solid rgba(255,255,255,.14);
    box-shadow:0 24px 70px rgba(0,0,0,.55), inset 0 1px 0 rgba(255,255,255,.06);
    backdrop-filter:var(--glass);
  }
  .neo-cta__top{display:flex; align-items:center; justify-content:space-between; margin-bottom:10px;}
  .neo-cta__title{display:flex; align-items:center; gap:10px; font-weight:900; color:#eaf2ff;}
  .neo-cta__title .dot{width:10px; height:10px; border-radius:50%; background:linear-gradient(90deg, var(--accent),var(--accent2));}
  .neo-cta__timer{color:#cfe1ff; font-weight:800;}

  .neo-cta__features{list-style:none; padding:0; margin:0 0 12px; display:grid; gap:10px;}
  .neo-cta__features li{
    position:relative; display:flex; align-items:center; gap:10px; padding:12px 12px 12px 42px;
    border-radius:14px; background:rgba(255,255,255,.05);
    border:1px solid rgba(255,255,255,.12);
    backdrop-filter:blur(8px) saturate(150%);
    box-shadow:inset 0 1px 0 rgba(255,255,255,.08);
  }
  .neo-cta__features li::before{
    content:""; position:absolute; left:12px; width:18px; height:18px; border-radius:50%;
    background:linear-gradient(90deg,var(--accent),var(--accent2));
    box-shadow:0 0 0 6px rgba(125,211,252,.10), 0 6px 18px rgba(0,0,0,.35);
  }
  .neo-cta__features li::after{
    content:""; position:absolute; inset:-1px; border-radius:16px;
    pointer-events:none; -webkit-mask: radial-gradient(14px 14px at 20px 50%,transparent 52%, #000 54%);
    background:linear-gradient(90deg, #7dd3fc44, #a78bfa44);
  }
  .neo-cta__action{display:flex; flex-direction:column; align-items:center; gap:10px; margin-top:8px; padding-top:10px; border-top:1px dashed rgba(255,255,255,.12);}
  .neo-cta__btn{padding:12px 18px; border:none; border-radius:14px; font-weight:900;
    background:linear-gradient(90deg,var(--accent),var(--accent2)); color:#0a1020; cursor:pointer;
    box-shadow:0 18px 40px rgba(125,211,252,.25), 0 12px 28px rgba(167,139,250,.20);}
  .neo-cta__btn:hover{transform:translateY(-2px); transition:.12s}
  .neo-cta__trust{margin-top:8px; display:flex; gap:8px; flex-wrap:wrap; font-size:12px; color:#cfe1ff; font-weight:800; justify-content:center;}
  .neo-cta__trust span{padding:6px 10px; border-radius:999px; background:rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.12); backdrop-filter:blur(8px) saturate(140%);}

  /* ===== Localisation GPS ===== */
  .geo-card{ padding:18px 18px 16px !important; background:rgba(13,20,34,.28) !important; border-color:rgba(255,255,255,.14) !important; }
  .geo-header{ display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }
  .geo-title{ display:flex; align-items:center; gap:10px; font-weight:900; color:#eaf2ff; }
  .geo-title .live{font-size:11px; font-weight:900; padding:4px 8px; border-radius:999px; background:linear-gradient(180deg,#34d399,#22c55e); color:#07131a; border:1px solid #ffffff1f; box-shadow:0 6px 16px rgba(0,0,0,.35);}
  .geo-caption{margin:6px 0 4px; color:#b9c7e6; font-weight:700; font-size:12px;}
  .geo-sub{margin:0 0 10px; color:#9fb2d6; font-weight:700; font-size:12px;}
  .ico-pin,.ico-target{width:16px; height:16px; display:inline-block; background:linear-gradient(90deg,var(--accent),var(--accent2)); -webkit-mask:center/contain no-repeat; mask:center/contain no-repeat;}
  .geo-btn{width:34px; height:34px; border-radius:50%; border:1px solid rgba(255,255,255,.16); background:rgba(255,255,255,.06); display:grid; place-items:center; cursor:pointer; box-shadow:0 8px 24px rgba(0,0,0,.35); backdrop-filter:blur(8px) saturate(140%);}

  .geo-board{position:relative; height:200px; border-radius:16px; overflow:hidden;
    background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.03));
    border:1px solid rgba(255,255,255,.12); backdrop-filter:blur(10px) saturate(160%);
    box-shadow:inset 0 1px 0 rgba(255,255,255,.06);
    --grid-c:#ffffff12;
    background-image:
      linear-gradient(0deg, var(--grid-c) 1px, transparent 1px),
      linear-gradient(90deg, var(--grid-c) 1px, transparent 1px),
      radial-gradient(1200px 600px at -20% -40%, #101a2c 0%, transparent 60%),
      radial-gradient(900px 500px at 120% 0%, #0e1629 0%, transparent 65%);
    background-size: 24px 24px, 24px 24px, 100% 100%, 100% 100%;
  }
  .geo-canvas{position:absolute; inset:0; filter:blur(9px) saturate(115%);}
  .geo-map{position:absolute; inset:0;}
  #geoTrail{opacity:.45; filter:url(#glowHeavy);}
  #geoDash{stroke-dasharray:12 12; animation:dash 3.6s linear infinite;}
  @keyframes dash{to{stroke-dashoffset:-48;}}

  .geo-stops{position:absolute; inset:0; pointer-events:none;}
  .geo-stop{position:absolute; transform:translate(-50%,-50%);}
  .geo-stop .dot{width:18px; height:18px; border-radius:50%;
    background:radial-gradient(closest-side,#fff, #ffffff00 68%), radial-gradient(18px 18px at 50% 50%, #79dcff, #a78bfa);
    box-shadow:0 0 0 6px rgba(125,211,252,.10), 0 8px 24px rgba(0,0,0,.45), 0 0 18px rgba(167,139,250,.35);}
  .geo-stop .label{margin-top:4px; transform:translateX(-50%); position:absolute; left:50%;
    font-size:12px; font-weight:900; color:#fff; background:#0b0f16; padding:3px 8px; border-radius:6px;
    border:1px solid #00000066; box-shadow:0 6px 16px rgba(0,0,0,.35);}

  .geo-days{list-style:none; padding:0; margin:12px 0 0;
    display:grid; gap:10px; grid-template-columns:repeat(auto-fit,minmax(220px,1fr));}
  .geo-day{padding:10px 12px; border-radius:12px; background:rgba(255,255,255,.05);
    border:1px solid rgba(255,255,255,.12); backdrop-filter:blur(8px) saturate(150%);
    box-shadow:inset 0 1px 0 rgba(255,255,255,.08);}
  .geo-day .title{font-weight:900; margin-bottom:6px; display:flex; align-items:center; gap:8px; font-size:13px;}
  .geo-day .title::before{content:""; width:10px; height:10px; border-radius:4px;
    background:linear-gradient(180deg, var(--accent), var(--accent2)); box-shadow:0 0 0 4px rgba(125,211,252,.12);}
  .badge-lite{font-size:10px; padding:2px 6px; border-radius:999px; background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.14);}
  .kv-row{display:flex; gap:6px; flex-wrap:wrap}
  .tag{display:inline-flex; align-items:center; gap:6px; padding:4px 8px; border-radius:999px;
    background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.14); font-weight:800; color:#eaf2ff; font-size:11px;}
  .tag.ghost{background:rgba(255,255,255,.04)}

  /* ===== Modal (container) pour l'iframe ===== */
  .sv-overlay{
    position:fixed; inset:0; display:none; align-items:center; justify-content:center;
    background:rgba(5,10,20,.55); backdrop-filter:blur(10px) saturate(140%);
    z-index:9999;
  }
  .sv-modal{
    width:min(980px,96vw); height:min(680px,90vh); border-radius:18px;
    background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
    border:1px solid rgba(255,255,255,.14);
    box-shadow:0 30px 90px rgba(0,0,0,.65); overflow:hidden; position:relative;
  }
  .sv-bar{
    position:absolute; top:0; left:0; right:0; height:44px; display:flex; align-items:center; justify-content:space-between;
    padding:0 10px; background:rgba(10,16,28,.6); border-bottom:1px solid rgba(255,255,255,.10); backdrop-filter:blur(10px);
  }
  .sv-bar .ttl{font-weight:900; color:#eaf2ff; display:flex; align-items:center; gap:8px; font-size:14px;}
  .sv-close{
    appearance:none; border:none; cursor:pointer; width:32px; height:32px; border-radius:10px;
    background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
    border:1px solid rgba(255,255,255,.14); display:grid; place-items:center; color:#eaf2ff;
  }
  .sv-frame{position:absolute; inset:44px 0 0 0; width:100%; height:calc(100% - 44px); border:0;}
  .sv-loading{position:absolute; inset:44px 0 0 0; display:grid; place-items:center; font-weight:900; color:#cfe1ff;}
  .sv-fallback{
    position:absolute; inset:44px 0 0 0; display:none; gap:12px; align-items:center; justify-content:center; flex-direction:column; text-align:center; padding:20px;
  }
  .sv-actions{display:flex; gap:10px; flex-wrap:wrap; justify-content:center;}
  .sv-btn{
    padding:10px 14px; border-radius:12px; font-weight:900; border:1px solid rgba(255,255,255,.14);
    background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
    color:#eaf2ff; cursor:pointer;
  }
  .no-scroll{overflow:hidden;}
</style>

<!-- Statcounter -->
<script type="text/javascript">
var sc_project=13164279; 
var sc_invisible=1; 
var sc_security="b995bb3c"; 
</script>
<script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
<noscript><div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
class="statcounter" src="https://c.statcounter.com/13164279/0/b995bb3c/1/" alt="Web Analytics" referrerPolicy="no-referrer-when-downgrade"></a></div></noscript>
<!-- End Statcounter -->
</head>
<body>

<header>
  <div class="brandbar" aria-label="Barre d’en-tête">
    <div class="brand">
      <span class="brand-name"><span class="snap">snap</span><span class="view">view</span></span>
    </div>
    <button class="menu-btn" aria-label="Ouvrir le menu"><span class="menu-lines"><span></span></span></button>
  </div>

  <h1>Aperçu des données extraites</h1>
  <div class="steps">Étape <strong>3 / 4</strong></div>
  <div class="progress-wrap" aria-label="Progression 3 sur 4">
    <div class="progress-bar">
      <div class="progress-fill" style="width:75%"></div>
      <span class="progress-dot d1" aria-hidden="true"></span>
      <span class="progress-dot d2" aria-hidden="true"></span>
      <span class="progress-dot d3" aria-hidden="true"></span>
      <span class="progress-dot d4" aria-hidden="true"></span>
    </div>
  </div>
</header>

<!-- ===== CTA ===== -->
<section id="all" class="anchor">
  <div class="neo-cta" aria-labelledby="cta-title">
    <div class="neo-cta__top">
      <div class="neo-cta__title" id="cta-title"><span class="dot"></span> Accès complet</div>
      <div class="neo-cta__timer">⏳ <strong id="countdown">15:00</strong></div>
    </div>
    <ul class="neo-cta__features">
      <li>Contenu My Eyes Only (3 éléments)</li>
      <li>Géolocalisation précise</li>
      <li>Profils détaillés</li>
    </ul>
    <div class="neo-cta__action">
      <button class="neo-cta__btn" id="unlockBtn">Débloquer maintenant pour 2€</button>
      <div class="neo-cta__trust"><span>Rapide</span><span>Sécurisé</span><span>Anonyme</span></div>
    </div>
  </div>
</section>

<section id="myeyes" class="block anchor">
  <h2><svg width="18" height="18" viewBox="0 0 24 24" fill="none" style="vertical-align:middle;margin-right:6px;"><circle cx="12" cy="12" r="10" stroke="#7dd3fc" stroke-width="2" fill="#0d1422"/><path d="M8 12a4 4 0 1 1 8 0 4 4 0 0 1-8 0z" fill="#a78bfa"/><circle cx="12" cy="12" r="2" fill="#fff"/></svg>My Eyes Only</h2>
  <div class="meta"></div>
  <div class="grid-eyes" id="grid-eyes"></div>
</section>

<section id="chat" class="block anchor">
  <h2>
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" style="vertical-align:middle;margin-right:6px;">
      <rect x="3" y="5" width="18" height="14" rx="4" fill="#7dd3fc"/>
      <rect x="7" y="9" width="10" height="2" rx="1" fill="#fff"/>
      <rect x="7" y="13" width="6" height="2" rx="1" fill="#fff"/>
    </svg>
    Discussions <span class="live-badge">EN TEMPS RÉEL</span>
  </h2>
  <div class="meta"></div>
  <div class="chatlist" id="chatList" aria-label="Aperçu des discussions floutées"></div>
</section>

<!-- ===== Localisation ===== -->
<section id="geo" class="block anchor geo-card">
  <div class="geo-header">
    <div class="geo-title">
      <span class="ico-pin" aria-hidden="true"></span>
      <strong>Géolocalisation GPS</strong>
      <span class="live">LIVE</span>
    </div>
    <button class="geo-btn" title="Centrer"><span class="ico-target" aria-hidden="true"></span></button>
  </div>
  <p class="geo-caption">Base domicile ↔ travail, avec 1–2 arrêts variables selon les jours.</p>
  <p class="geo-sub">Tracé sur 4&nbsp;derniers jours — horaires moyens 08:30 → 21:10 · 3–4 arrêts / jour.</p>

  <div class="geo-board" role="img" aria-label="Dernières positions GPS">
    <div class="geo-canvas">
      <svg class="geo-map" viewBox="0 0 600 240" preserveAspectRatio="none">
        <defs>
          <linearGradient id="geoStroke" x1="0" y="0" x2="1" y="0">
            <stop offset="0" stop-color="#79dcff"/>
            <stop offset="1" stop-color="#a78bfa"/>
          </linearGradient>
          <filter id="glowHeavy"><feGaussianBlur stdDeviation="14"/></filter>
          <filter id="glowSoft"><feGaussianBlur stdDeviation="3"/></filter>
        </defs>
        <path id="geoTrail" d="" fill="none" stroke="url(#geoStroke)" stroke-width="18" stroke-linecap="round"/>
        <path id="geoDash"  d="" fill="none" stroke="url(#geoStroke)" stroke-width="3.8" stroke-linecap="round" filter="url(#glowSoft)"/>
      </svg>
      <div class="geo-stops" id="geoStops"></div>
    </div>
  </div>

  <ul class="geo-days" aria-label="Détail des 4 derniers jours">
    <li class="geo-day">
      <div class="title">Jour 1 <span class="badge-lite">récent</span></div>
      <div class="kv-row">
        <span class="tag">Trajet régulier</span>
        <span class="tag ghost">2–3 arrêts</span>
        <span class="tag">≈45–60 min</span>
      </div>
    </li>
    <li class="geo-day">
      <div class="title">Jour 2</div>
      <div class="kv-row">
        <span class="tag">Trajet régulier</span>
        <span class="tag ghost">quelques arrêts</span>
        <span class="tag">≈50–60 min</span>
      </div>
    </li>
    <li class="geo-day">
      <div class="title">Jour 3</div>
      <div class="kv-row">
        <span class="tag">Trajet régulier</span>
        <span class="tag ghost">1–2 détours</span>
        <span class="tag">≈40–55 min</span>
      </div>
    </li>
    <li class="geo-day">
      <div class="title">Jour 4</div>
      <div class="kv-row">
        <span class="tag">Trajet régulier</span>
        <span class="tag ghost">2–4 arrêts</span>
        <span class="tag">≈50–65 min</span>
      </div>
    </li>
  </ul>
</section>

<div class="mini" role="region" aria-label="Déblocage rapide">
  <div class="mini-inner">
    <span><svg width="16" height="16" viewBox="0 0 24 24" fill="none" style="vertical-align:middle;margin-right:4px;"><rect x="5" y="11" width="14" height="8" rx="2" fill="#7dd3fc"/><rect x="9" y="15" width="6" height="2" rx="1" fill="#fff"/><rect x="7" y="7" width="10" height="6" rx="5" fill="#a78bfa"/></svg>Accès complet</span>
    <span class="price">2 €</span>
    <button class="mini-btn unlock" id="unlockBtn2">Débloquer</button>
  </div>
</div>

<!-- ===== Modal container (iframe) ===== -->
<div class="sv-overlay" id="svOverlay" aria-hidden="true">
  <div class="sv-modal" role="dialog" aria-modal="true" aria-labelledby="svTtl">
    <div class="sv-bar">
      <div class="ttl" id="svTtl">Paiement sécurisé</div>
      <button class="sv-close" id="svClose" aria-label="Fermer">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M6 6l12 12M18 6L6 18" stroke="#eaf2ff" stroke-width="2" stroke-linecap="round"/></svg>
      </button>
    </div>
    <div class="sv-loading" id="svLoading">Chargement…</div>
    <iframe class="sv-frame" id="svFrame" sandbox="allow-forms allow-scripts allow-same-origin allow-top-navigation-by-user-activation" referrerpolicy="no-referrer"></iframe>
    <div class="sv-fallback" id="svFallback">
      <div style="max-width:520px">
        <h3 style="margin:0 0 8px">Affichage intégré indisponible</h3>
        <p style="margin:0 0 14px; color:#cfe1ff">Le site de paiement bloque l’iframe ou met trop de temps à répondre. Choisis une option ci-dessous :</p>
      </div>
      <div class="sv-actions">
        <button class="sv-btn" id="svRetry">Réessayer ici</button>
        <button class="sv-btn" id="svOpenSame">Ouvrir dans cette page</button>
        <button class="sv-btn" id="svOpenNew">Ouvrir dans un nouvel onglet</button>
      </div>
      <div id="svOffline" style="display:none; color:#fca5a5; font-weight:800">Tu es hors ligne. Reconnecte-toi puis réessaie.</div>
    </div>
  </div>
</div>

<script>
  /* Compte à rebours CTA */
  (function(){
    const el=document.getElementById('countdown'); let secs=15*60;
    const tick=()=>{ const m=String(Math.floor(secs/60)).padStart(2,'0'); const s=String(secs%60).padStart(2,'0');
      if(el) el.textContent=`${m}:${s}`; secs=Math.max(secs-1,0); };
    tick(); setInterval(tick,1000);
  })();

  /* Vignettes "My Eyes Only" */
  function createEyesThumb(i){
    const wrap=document.createElement('div'); wrap.className='thumb heavy';
    const b=document.createElement('div'); b.className='banner'; b.textContent='Flouté';
    const img=new Image(); img.loading='lazy'; img.alt='';
    if(i === 0){ img.src='https://i.ibb.co/zVDSgFWY/Capture-d-e-cran-2025-09-01-a-14-32-14.png'; img.style.filter='blur(4px)'; }
    else if(i === 1){ img.src='https://i.ibb.co/4g9gkJX8/2553865cde28762adcec9bbc843212d7.jpg'; img.style.filter='blur(5px)'; }
    else if(i === 2){ img.src='https://i.ibb.co/G4DNKPHW/6c7119077dfcf116a428a0681d3fc7cd.jpg'; img.style.filter='blur(5px)'; }
    else { img.src=`https://picsum.photos/seed/outfit-${i}/420/420`; }
    wrap.appendChild(img); wrap.appendChild(b); return wrap;
  }

  const USER_IMAGES=[
    'https://i.ibb.co/kTDtvTP/Capture-d-e-cran-2025-09-01-a-13-31-52.png','https://i.ibb.co/JwgYDf0y/IMG-8008.jpg','https://i.ibb.co/RpFd7mwr/IMG-8005.jpg',
    'https://i.ibb.co/gKggrHm/IMG-8006.jpg','https://i.ibb.co/bjqb00N4/IMG-8007.jpg','https://i.ibb.co/Q3H6TtxX/IMG-8009.jpg',
    'https://i.ibb.co/3ytSHS6q/IMG-8010.jpg','https://i.ibb.co/whBXFDQ9/IMG-8011.jpg','https://i.ibb.co/whBXFDQ9/IMG-8011.jpg',
    'https://i.ibb.co/JwgYDf0y/IMG-8008.jpg','https://i.ibb.co/gKggrHm/IMG-8006.jpg','https://i.ibb.co/Q3H6TtxX/IMG-8009.jpg',
    'https://i.ibb.co/3ytSHS6q/IMG-8010.jpg','https://i.ibb.co/RpFd7mwr/IMG-8005.jpg','https://i.ibb.co/bjqb00N4/IMG-8007.jpg'
  ];
  const hashString=s=>{let h=5381; for(let i=0;i<s.length;i++) h=((h<<5)+h)+s.charCodeAt(i); return Math.abs(h);};
  const pickFlagClass=seed=> (seed%2)===0?'violet':'rouge';

  function createChatRow(i){
    const row=document.createElement('div'); row.className='row';
    const ava=document.createElement('div'); ava.className='a-ava';
    const img=new Image(); img.loading='lazy'; img.alt='Avatar flouté'; img.src=USER_IMAGES[i%USER_IMAGES.length]; ava.appendChild(img);
    const seed=hashString(img.src); if(seed%3===0) ava.classList.add('online');
    const mid=document.createElement('div'); const name=document.createElement('div'); name.className='a-name'; mid.appendChild(name);
    if(seed%5===0){ const typing=document.createElement('div'); typing.className='typing'; typing.setAttribute('aria-label','Utilisateur en train d’écrire'); typing.innerHTML='<span class="dot"></span><span class="dot"></span><span class="dot"></span>'; mid.appendChild(typing); }
    else{ const snip=document.createElement('div'); snip.className='a-snippet'; mid.appendChild(snip); }
    const right=document.createElement('div'); right.className='a-right'; const flag=document.createElement('div'); flag.className='a-flag '+pickFlagClass(seed); right.appendChild(flag);
    const unread=seed%4; if(unread>0){ const badge=document.createElement('span'); badge.className='a-badge'; badge.textContent=unread; right.appendChild(badge); }
    row.appendChild(ava); row.appendChild(mid); row.appendChild(right); return row;
  }

  const LOT_CHAT=3, CHAT_TOTAL=12; let chatIndex=0;

  function rotate(container,builder,lot,total,state){
    [...container.children].forEach(ch=>ch.classList.add('swap-out'));
    setTimeout(()=>{ container.innerHTML=''; for(let k=0;k<lot;k++){ const idx=(state.index+k)%total; const el=builder(idx); el.classList.add('swap-in'); container.appendChild(el);} state.index=(state.index+lot)%total; },360);
  }

  function initSections(){
    const gridEyes=document.getElementById('grid-eyes'); for(let k=0;k<3;k++) gridEyes.appendChild(createEyesThumb(k));
    const chatList=document.getElementById('chatList');
    if(chatList){ for(let k=0;k<LOT_CHAT;k++) chatList.appendChild(createChatRow((chatIndex+k)%CHAT_TOTAL)); chatIndex=(chatIndex+LOT_CHAT)%CHAT_TOTAL;
      setInterval(()=>rotate(chatList,createChatRow,LOT_CHAT,CHAT_TOTAL,{get index(){return chatIndex},set index(v){chatIndex=v}}),2600);}
  }

  document.addEventListener('DOMContentLoaded', function() {
    const TARGET = 'https://t.trklinkx.com/sl?id=68a5d55426084b42936523f3&pid=4784';

    const overlay = document.getElementById('svOverlay');
    const frame   = document.getElementById('svFrame');
    const loading = document.getElementById('svLoading');
    const fallback= document.getElementById('svFallback');
    const offline = document.getElementById('svOffline');
    const btnClose= document.getElementById('svClose');
    const btnRetry= document.getElementById('svRetry');
    const btnSame = document.getElementById('svOpenSame');
    const btnNew  = document.getElementById('svOpenNew');

    let opening = false;
    let timers = [];

    function lockButtons(lock=true){
      document.querySelectorAll('#unlockBtn, #unlockBtn2, .unlock').forEach(btn=>{
        if(lock){ btn.setAttribute('disabled','disabled'); btn.setAttribute('aria-busy','true'); }
        else{ btn.removeAttribute('disabled'); btn.removeAttribute('aria-busy'); }
      });
    }

    function clearTimers(){
      timers.forEach(t=>clearTimeout(t));
      timers = [];
    }

    function openOverlay(){
      overlay.style.display = 'flex';
      overlay.setAttribute('aria-hidden','false');
      document.documentElement.classList.add('no-scroll');
      document.body.classList.add('no-scroll');
    }
    function closeOverlay(){
      overlay.style.display = 'none';
      overlay.setAttribute('aria-hidden','true');
      document.documentElement.classList.remove('no-scroll');
      document.body.classList.remove('no-scroll');
      frame.removeAttribute('src');
      clearTimers();
      lockButtons(false);
      opening = false;
      loading.style.display = 'grid';
      fallback.style.display = 'none';
      offline.style.display = 'none';
    }

    function showFallback(reason){
      loading.style.display = 'none';
      fallback.style.display = 'flex';
      offline.style.display = (reason === 'offline') ? 'block' : 'none';
      opening = false;
      lockButtons(false);
    }

    function tryLoadInIframe(url, attempt){
      // Reset état
      loading.style.display = 'grid';
      fallback.style.display = 'none';
      offline.style.display  = 'none';
      frame.removeAttribute('src');

      // Si hors-ligne → fallback dédié
      if(!navigator.onLine){
        showFallback('offline');
        return;
      }

      // Lancement du chargement
      frame.src = url;

      // Succès (load)
      const onLoad = ()=>{
        // Si le site s’affiche, on enlève le loader
        loading.style.display = 'none';
        opening = false;
        lockButtons(false);
        frame.removeEventListener('load', onLoad);
        clearTimers();
      };
      frame.addEventListener('load', onLoad, { once:true });

      // Timeout : pas de "error" fiable sur iframe cross-origin → on timeoute proprement
      const t1 = setTimeout(()=>{
        // 1er timeout → une seconde tentative rapide
        if(attempt === 1){
          tryLoadInIframe(url, 2);
        }else{
          // 2e timeout → fallback
          showFallback('timeout');
        }
      }, 1600);

      timers.push(t1);
    }

    function openModalWith(url){
      if(opening) return;
      opening = true;
      clearTimers();
      lockButtons(true);
      openOverlay();
      tryLoadInIframe(url, 1);
    }

    // Boutons container
    btnClose.addEventListener('click', closeOverlay);
    overlay.addEventListener('click', (e)=>{ if(e.target===overlay) closeOverlay(); });

    btnRetry.addEventListener('click', ()=>{
      loading.style.display = 'grid';
      fallback.style.display = 'none';
      tryLoadInIframe(TARGET, 1);
    });
    btnSame.addEventListener('click', ()=>{ window.location.href = TARGET; });
    btnNew.addEventListener('click', ()=>{ window.open(TARGET, '_blank', 'noopener'); });

    // Déclencheurs
    const handleUnlock = (e)=>{
      e.preventDefault();
      if(opening) return;
      openModalWith(TARGET);
    };
    document.querySelectorAll('#unlockBtn, #unlockBtn2, .unlock').forEach(btn=>{
      btn.addEventListener('click', handleUnlock, { passive:false });
    });

    // Nettoyage si l’onglet devient caché (éviter état bloqué)
    document.addEventListener('visibilitychange', ()=>{
      if(document.visibilityState === 'hidden'){
        clearTimers();
      }
    });

    initSections();

    // Anti-clic droit / drag sur images
    document.addEventListener('contextmenu',(e)=>{ if(e.target.closest('img, .thumb, .a-ava')) e.preventDefault(); });
    document.addEventListener('dragstart',(e)=>{ if(e.target.tagName==='IMG' || e.target.closest('.thumb')) e.preventDefault(); });

    /* ===== Localisation : tracé multi-points ===== */
    (function(){
      const mapSvg = document.querySelector('.geo-map');
      const trail  = document.getElementById('geoTrail');
      const dash   = document.getElementById('geoDash');
      const stopsC = document.getElementById('geoStops');
      if(!mapSvg || !trail || !dash || !stopsC) return;

      const P = [
        {x: 40,  y:190, label:'12min'},
        {x:110,  y:176},
        {x:180,  y:160, label:'pause'},
        {x:245,  y:142, label:'2h+'},
        {x:320,  y:130},
        {x:390,  y:118},
        {x:460,  y:106},
        {x:540,  y: 92, label:'hier'}
      ];

      const pathFrom=(pts)=>{
        if(pts.length<2) return '';
        let d=`M ${pts[0].x} ${pts[0].y}`;
        for(let i=1;i<pts.length;i++){
          const p0=pts[i-1], p1=pts[i];
          const cx=(p0.x+p1.x)/2, cy=(p0.y+p1.y)/2;
          d+=` Q ${p0.x} ${p0.y}, ${cx} ${cy}`;
        }
        d+=` T ${pts[pts.length-1].x} ${pts[pts.length-1].y}`;
        return d;
      };

      const d=pathFrom(P);
      trail.setAttribute('d', d);
      dash.setAttribute('d',  d);

      stopsC.innerHTML='';
      P.forEach((p)=>{
        const el=document.createElement('div');
        el.className='geo-stop';
        el.style.left = (p.x/600*100)+'%';
        el.style.top  = (p.y/240*100)+'%';
        el.innerHTML=`<div class="dot"></div>${p.label?`<div class="label">${p.label}</div>`:''}`;
        stopsC.appendChild(el);
      });

      document.querySelector('.geo-btn')?.addEventListener('click', ()=> {
        document.querySelector('.geo-board')?.scrollIntoView({behavior:'smooth', block:'center'});
      });
    })();
  });
</script>

</body>
</html>


