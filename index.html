<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>SnapView — Démo Fictive</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap" rel="stylesheet">

  <!-- Helpers conservés mais ajustés -->
  <style id="header-spacing-fix">
    header h1{margin-top:0 !important;margin-bottom:22px !important}
  </style>
  <style id="layout-fix">
    /* ↓ Globalement on décale la page vers le bas bien plus qu'avant */
    body{padding-top:clamp(120px,16vh,240px) !important}
    header{margin-bottom:clamp(22px,5.5vh,52px) !important}
    .panel{margin-top:0 !important}
  </style>
  <style id="loosen-layout">
    body{padding:32px 18px 140px !important}
    header{margin-bottom:30px !important}
    .panel{margin-bottom:26px !important}
    .cta{margin-top:18px !important;margin-bottom:10px !important}
    .reviews{margin-top:26px !important}
    .section{padding:20px 18px 16px !important}
    .rev-grid{gap:22px !important}
    .rev{padding:16px 14px !important}
    .avatar{width:48px !important;height:48px !important}
    .rev p{font-size:13px !important}
  </style>

  <style>
    :root{
      --bg:#000; --text:#f4f7ff; --sub:#b6c1d9;
      --glass:rgba(255,255,255,.06); --stroke:rgba(255,255,255,.14);
      --ring:#7dd3fc88; --accent:#7dd3fc; --accent2:#a78bfa; --gold:#ffd166;
      --radius-xl:28px; --radius:18px; --blur:blur(18px) saturate(160%);
      --shadow:0 10px 40px rgba(0,0,0,.40);
    }
    *{box-sizing:border-box}
    html,body{height:100%;min-height:100vh;background:#000}
    body{
      margin:0; font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Inter,Arial,sans-serif;
      color:var(--text); display:flex; flex-direction:column; align-items:center;
      padding:24px 14px 100px; overflow-x:hidden
    }

    /* halos + lueurs */
    .orb{position:fixed;width:560px;height:560px;border-radius:50%;filter:blur(80px);
      pointer-events:none;opacity:.32;mix-blend:screen}
    .o1{left:-200px;top:-160px;background:radial-gradient(circle at 40% 40%, #7dd3fc, transparent 60%)}
    .o2{right:-180px;top:40px;background:radial-gradient(circle at 60% 50%, #a78bfa, transparent 60%)}
    .o3{left:50%;bottom:-280px;transform:translateX(-50%);background:radial-gradient(circle at 50% 50%, #7dd3fc, transparent 65%)}
    @media (prefers-reduced-motion:reduce){.orb{filter:none;opacity:.18}}

    /* Header – plus compact et plus bas */
    header{
      width:min(980px,100%);
      text-align:left;
      margin:0 0 12px 0;
      position:relative;
    }
    h1{
      margin:0 0 8px; font-weight:900; font-size:clamp(32px,6.6vw,50px); letter-spacing:.4px;
      background:linear-gradient(90deg,#9be7ff 0%,#a78bfa 100%); -webkit-background-clip:text; background-clip:text; color:transparent;
      text-shadow:0 2px 24px rgba(125,211,252,.30)
    }
    .subtitle{color:var(--text);opacity:.86;font-weight:700;font-size:clamp(14px,3.2vw,19px);margin:0}

    /* Panneau principal */
    .panel{
      width:min(880px,100%); background:var(--glass); border:1px solid var(--stroke);
      border-radius:var(--radius-xl); padding:18px 14px 14px; backdrop-filter:var(--blur); box-shadow:var(--shadow)
    }

    .stepper{display:flex;align-items:center;gap:10px;justify-content:flex-start;margin-bottom:18px;color:#cbd5e1;font-weight:700}
    .steps{display:flex;gap:8px}
    .dot{width:10px;height:10px;border-radius:50%;background:#243042;border:1px solid #3b4b63}
    .dot.active{background:linear-gradient(90deg,var(--accent),var(--accent2));box-shadow:0 0 0 4px rgba(125,211,252,.18)}

    .progress{height:6px;border-radius:999px;background:#111827;border:1px solid #243042;overflow:hidden}
    .bar{height:100%;width:0%;background:linear-gradient(90deg,var(--accent),var(--accent2));transition:width .6s ease}
    .bar.success{background:linear-gradient(90deg,#22c55e 0%, #4ade80 100%) !important}
    .mini-progress{width:160px;height:6px}
    @media (max-width:520px){.mini-progress{width:110px;height:5px}}

    .field{
      position:relative;display:flex;align-items:center;gap:10px;margin:10px auto 12px;width:min(720px,100%);
      background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
      border:1px solid var(--stroke); border-radius:20px; padding:8px 10px; backdrop-filter:var(--blur);
      box-shadow:inset 0 1px 0 rgba(255,255,255,.06)
    }
    .input{
      flex:1;height:54px;border-radius:16px;border:1px solid rgba(255,255,255,.12);background:rgba(10,14,22,.6);
      color:var(--text);font-size:16px;padding:0 48px 0 16px;outline:none;transition:box-shadow .2s,border-color .2s
    }
    .input:focus-visible{box-shadow:0 0 0 4px var(--ring);border-color:#2a7cff}
    .input-error{border-color:#f87171 !important;box-shadow:0 0 0 3px #f8717166 !important}
    .search-btn{
      position:absolute;right:12px;height:38px;width:38px;border-radius:10px;border:1px solid rgba(255,255,255,.14);
      background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.05));
      display:grid;place-items:center;cursor:pointer
    }
    .search-btn svg{opacity:.9}

    .quality{display:flex;gap:10px;justify-content:center;margin-top:12px;flex-wrap:wrap}
    .q-pill{display:flex;align-items:center;gap:6px;padding:7px 12px;border-radius:999px;font-weight:800;font-size:12px;
      border:1px solid rgba(255,255,255,.15);background:rgba(255,255,255,.06);color:#e6f2ff}

    .cta{
      display:block;margin:12px auto 0;padding:14px 32px;border-radius:999px;border:1px solid rgba(255,255,255,.2);
      font-weight:900;font-size:18px;color:#0f172a;cursor:pointer;
      background:linear-gradient(90deg,var(--accent) 0%, var(--accent2) 100%); box-shadow:0 10px 30px rgba(125,211,252,.25)
    }

    /* Avis */
    .reviews{width:min(1100px,100%);margin-top:14px !important;transition:margin-top .55s cubic-bezier(.4,0,.2,1)}
    .section{
      background:var(--glass); border:1px solid var(--stroke); border-radius:var(--radius-xl);
      padding:12px 14px; backdrop-filter:var(--blur); box-shadow:var(--shadow)
    }
    .section h3{margin:0 0 12px;font-size:18px;color:#e8ddff}
    .rev-grid{display:grid;grid-template-columns:1fr;gap:14px}
    @media(min-width:760px){.rev-grid{grid-template-columns:repeat(3,1fr)}}
    .rev{
      display:grid;grid-template-columns:auto 1fr auto;gap:12px;align-items:center;
      padding:12px;border-radius:16px;position:relative;overflow:hidden;
      background:linear-gradient(120deg,#232a3a 0%, #2e3650 100%);border:1px solid #7dd3fc33;
      box-shadow:0 2px 12px #7dd3fc22, 0 1px 0 #fff1;transition:box-shadow .3s, transform .3s
    }
    .rev:hover{box-shadow:0 8px 32px #7dd3fc44, 0 2px 0 #fff2;transform:translateY(-2px)}
    .avatar{
      width:44px;height:44px;border-radius:50%;
      background:linear-gradient(120deg,#7dd3fc 0%,#a78bfa 100%);display:grid;place-items:center;
      color:#fff;font-weight:900;font-size:15px;box-shadow:0 1px 6px #7dd3fc44;border:1px solid #ffffff33
    }
    .name{font-weight:900;font-size:13px;color:#e8ddff;letter-spacing:.1px}
    .stars{display:flex;gap:2px;color:var(--gold);font-size:15px;filter:drop-shadow(0 1px 2px #ffd16688)}
    .rev p{margin:.25rem 0 0;color:#e0eaff;font-size:12px;font-weight:500;letter-spacing:.02em}

    /* Notifications “rapport” améliorées */
    #notif-container{
      position:fixed; bottom:64px; right:18px; z-index:999;
      display:flex; flex-direction:column; gap:10px; align-items:flex-end;
    }
    .notif{
      display:flex; align-items:center; gap:10px; max-width:82vw;
      padding:10px 14px; border-radius:14px;
      background:linear-gradient(180deg, rgba(28,38,56,.72), rgba(18,24,38,.62));
      border:1px solid rgba(125,211,252,.25);
      backdrop-filter:blur(10px) saturate(140%);
      color:#e9f5ff; font-weight:800; font-size:13px;
      box-shadow:0 12px 34px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.08);
      transform:translate(18px,10px); opacity:0;
      transition:transform .45s cubic-bezier(.2,.8,.2,1), opacity .45s;
    }
    .notif.show{transform:translate(0,0); opacity:1;}
    .notif .ico{
      width:26px; height:26px; border-radius:8px; flex:0 0 26px;
      background:linear-gradient(180deg,#22c55e,#4ade80);
      display:grid; place-items:center; color:#0b1610;
      box-shadow:0 6px 16px rgba(34,197,94,.35), inset 0 0 0 1px #ffffff77;
    }
    .notif small{opacity:.75; font-weight:700}
    .notif .dismiss{
      margin-left:6px; border:none; background:transparent; color:#cfe6ff; opacity:.7; cursor:pointer;
      font-size:16px; line-height:1; padding:2px; border-radius:6px;
    }
    .notif .dismiss:hover{opacity:1}

    /* Loader dots */
    .dot-loader{display:inline-flex;gap:6px;height:14px;align-items:flex-end}
    .dot-loader span{display:block;width:7px;height:7px;background:var(--accent);border-radius:50%;opacity:.7;animation:dotBlink 1.2s infinite both}
    .dot-loader span:nth-child(2){animation-delay:.2s}
    .dot-loader span:nth-child(3){animation-delay:.4s}
    @keyframes dotBlink{0%,80%,100%{opacity:.7;transform:scale(1)}40%{opacity:1;transform:scale(1.35)}}

    /* Design amélioré pour les q-pill */
    .q-pill {
      border: 1px solid rgba(125,211,252,.18);
      background: rgba(255,255,255,.08);
      color: #e6f2ff;
      box-shadow: 0 2px 12px #7dd3fc22, 0 1px 0 #fff1;
      font-weight: 700;
      font-size: 11px;
      letter-spacing: .02em;
      padding: 6px 10px !important;
      transition: transform .16s, box-shadow .16s;
      display: flex;
      align-items: center;
      gap: 5px;
      border-radius: 999px;
      line-height: 1.2;
    }
    .q-pill:hover {
      transform: scale(1.06);
      box-shadow: 0 8px 32px #7dd3fc33, 0 2px 0 #fff2;
      background: rgba(125,211,252,.10);
    }
    .q-pill .ico {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: linear-gradient(120deg,#7dd3fc 0%,#a78bfa 100%);
      margin-right: 2px;
      box-shadow: 0 1px 6px #7dd3fc44;
    }
    .q-pill.secure .ico svg {
      stroke: #22c55e;
    }
    .q-pill.rapide .ico svg {
      stroke: #fbbf24;
    }
    .q-pill.anonyme .ico svg {
      stroke: #818cf8;
    }

    footer{width:100%;text-align:center;position:fixed;bottom:8px;left:0;font-size:11px;color:#b6c1d9;opacity:.65;letter-spacing:.1px;z-index:99;pointer-events:none}
  </style>
</head>
<body>
  <!-- halos -->
  <div class="orb o1"></div><div class="orb o2"></div><div class="orb o3"></div>

  <!-- notifications flottantes -->
  <div id="notif-container" aria-live="polite" aria-atomic="true"></div>

  <!-- Header (plus bas) -->
  <header>
    <h1>SNAP<span style="color:#a78bfa">VIEW</span></h1>
    <p class="subtitle">découvrez la vérité sur vos proches</p>
  </header>

  <!-- Panneau -->
  <section class="panel" aria-label="Recherche">
    <div style="display:flex; justify-content:space-between; align-items:flex-start; gap:12px">
      <div class="stepper" aria-label="Étapes">
        <span>Étapes</span>
        <div class="steps" aria-hidden="true">
          <span class="dot active"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>
        </div>
      </div>
      <div class="progress mini-progress" aria-label="progression 3 sur 4 (75%)">
        <div class="bar" id="progressBar"></div>
      </div>
    </div>

    <div class="field">
      <input id="username" class="input" type="text" placeholder="@username" autocomplete="off" aria-label="Pseudo à analyser">
      <button class="search-btn" id="search-btn" aria-label="Rechercher">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <circle cx="11" cy="11" r="6" stroke="#cfe6ff" stroke-width="2"/><path d="M16 16L21 21" stroke="#cfe6ff" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>
    </div>
    <p id="usernameError" class="muted" style="display:none;color:#f87171;margin:6px 2px 0;font-weight:700">
      Pseudo invalide. Utilisez 3–30 caractères (lettres, chiffres, . ou _).
    </p>

    <div class="quality" aria-hidden="true">
      <div class="q-pill secure"><span class="ico" aria-hidden="true"><svg width="13" height="13" viewBox="0 0 16 16" fill="none"><rect x="3.5" y="7" width="9" height="5" rx="2" stroke-width="1.5" stroke="#22c55e"/><path d="M8 7V5.5A2.5 2.5 0 0 1 13 5.5V7" stroke-width="1.5" stroke="#22c55e"/></svg></span>Sécurisé</div>
      <div class="q-pill rapide"><span class="ico" aria-hidden="true"><svg width="13" height="13" viewBox="0 0 16 16" fill="none"><path d="M3 8h10M8 3l5 5-5 5" stroke-width="1.5" stroke="#fbbf24"/></svg></span>Rapide</div>
      <div class="q-pill anonyme"><span class="ico" aria-hidden="true"><svg width="13" height="13" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="8" r="5.5" stroke-width="1.5" stroke="#818cf8"/><circle cx="8" cy="8" r="2" fill="#818cf8"/></svg></span>Anonyme</div>
    </div>
  </section>

  <button id="start-btn" class="cta" style="transition:opacity .6s, visibility .6s, transform .6s cubic-bezier(.4,0,.2,1);">Commencer</button>

  <!-- Avis -->
  <section class="reviews">
    <div class="section">
      <h3>Avis récents</h3>
      <div class="rev-grid" id="revCarousel">
        <div class="rev">
          <div class="avatar">A</div>
          <div>
            <div class="name">Anonyme <span class="muted">· 28/08/2025</span></div>
            <p>« j'ai eu mes reponses merci beaucoup »</p>
          </div>
          <div class="stars">★★★★★</div>
        </div>
        <div class="rev">
          <div class="avatar">A</div>
          <div>
            <div class="name">Anonyme <span class="muted">· 25/08/2025</span></div>
            <p>« Service rapide, efficace. »</p>
          </div>
          <div class="stars">★★★★★</div>
        </div>
        <div class="rev">
          <div class="avatar">A</div>
          <div>
            <div class="name">Anonyme <span class="muted">· 20/08/2025</span></div>
            <p>« deçu car g découvret qu'elle me trompe depuis 2 mois »</p>
          </div>
          <div class="stars">★★★☆☆</div>
        </div>
      </div>
    </div>
  </section>

  <footer>politique de confidentialité</footer>

  <script>
  document.addEventListener('DOMContentLoaded', ()=>{
    /* ===== Notifications améliorées ===== */
    const notifContainer = document.getElementById('notif-container');
    const names = ["Celia","Lucas","Emma","Noah","Lina","Hugo","Jade","Louis","Maya","Tom","Léo","Anna","Sacha","Nina","Eden","Léna","Axel","Mila","Paul","Zoé"];
    const domains = ["gmail.com","icloud.com","hotmail.fr","outlook.com","orange.fr","yahoo.com"];
    let queue = [];
    const MAX_VISIBLE = 3;

    function makeNotif(text){
      const el = document.createElement('div');
      el.className = 'notif';
      el.innerHTML = `
        <div class="ico" aria-hidden="true">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
            <circle cx="12" cy="12" r="9" fill="#fff" opacity=".15"/>
            <path d="M7 12.5l3 3 7-7" stroke="#0b1610" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div>${text}<br><small>envoyé il y a quelques secondes</small></div>
        <button class="dismiss" aria-label="Fermer">×</button>
      `;
      el.querySelector('.dismiss').addEventListener('click', ()=>dismiss(el));
      return el;
    }
    function dismiss(el){
      el.style.opacity='0';
      el.style.transform='translate(18px,8px)';
      setTimeout(()=>{ el.remove(); showFromQueue(); }, 220);
    }
    function showFromQueue(){
      if(queue.length===0) return;
      const visible = notifContainer.querySelectorAll('.notif').length;
      while(visible < MAX_VISIBLE && queue.length){
        const n = queue.shift();
        notifContainer.appendChild(n);
        requestAnimationFrame(()=> n.classList.add('show'));
        setTimeout(()=>dismiss(n), 4200 + Math.floor(Math.random()*1200));
      }
    }
    function pushNotif(){
      const name = names[Math.floor(Math.random()*names.length)];
      const hide = name.toLowerCase();
      const mail = `${hide[0]}•••••@${domains[Math.floor(Math.random()*domains.length)]}`;
      const n = makeNotif(`${name} a reçu son rapport sur <strong>${mail}</strong>`);
      queue.push(n); showFromQueue();
    }
    (function loop(){
      pushNotif();
      setTimeout(loop, 5200 + Math.floor(Math.random()*2300));
    })();

    /* ===== Form + progression ===== */
    const startBtn = document.getElementById('start-btn');
    const usernameInput = document.getElementById('username');
    const usernameError = document.getElementById('usernameError');
    const progressBar = document.getElementById('progressBar');
    const searchBtn = document.getElementById('search-btn');
    const isValidSnapUsername = (v)=>/^@?[a-zA-Z0-9._]{3,30}$/.test((v||"").trim());

    const triggerStart = ()=>{
      const val = usernameInput.value.trim();
      if(!isValidSnapUsername(val)){
        usernameError.style.display='block';
        usernameInput.classList.add('input-error');
        usernameInput.focus();
        return;
      }
      usernameError.style.display='none';
      usernameInput.classList.remove('input-error');

      // lock + loader
      startBtn.disabled = true; startBtn.setAttribute('aria-disabled','true');
      startBtn.innerHTML = '<span class="dot-loader"><span></span><span></span><span></span></span>';

      // progress anim
      if(progressBar){
        progressBar.classList.remove('success');
        progressBar.style.transition='width 2.2s cubic-bezier(.4,0,.2,1)';
        requestAnimationFrame(()=>{ progressBar.style.width='85%'; });
      }

      setTimeout(()=>{
        if(progressBar){
          progressBar.style.transition='width .5s ease';
          progressBar.style.width='100%';
          setTimeout(()=>progressBar.classList.add('success'), 450);
        }
        startBtn.innerHTML = '<svg width="32" height="32" viewBox="0 0 22 22" fill="none" aria-hidden="true"><circle cx="11" cy="11" r="11" fill="#22c55e"/><path d="M7.5 11.5L10 14L15 9" stroke="#fff" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/></svg>';
        startBtn.style.background='#22c55e'; startBtn.style.border='none'; startBtn.style.boxShadow='none';
        setTimeout(()=>{ window.location.href = 'analyse.html'; }, 900);
      }, 2500);
    };

    startBtn?.addEventListener('click', triggerStart);
    searchBtn?.addEventListener('click', triggerStart);
    usernameInput?.addEventListener('keydown', (e)=>{ if(e.key==='Enter'){ e.preventDefault(); triggerStart(); }});
    usernameInput?.addEventListener('input', ()=>{ usernameError.style.display='none'; usernameInput.classList.remove('input-error'); });
  });
  </script>
</body>
</html>


